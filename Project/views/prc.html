<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Train Schedules - Metro Rail Management System</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap');
    
    :root {
      --bg: #f8fafc;
      --text: #1e293b;
      --muted: #64748b;
      --brand: #059669;
      --brand-600: #047857;
      --brand-light: #d1fae5;
      --surface: #ffffff;
      --border: #e2e8f0;
      --warn: #f59e0b;
      --good: #10b981;
      --accent: #ef4444;
      --gradient-start: #059669;
      --gradient-end: #34d399;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, var(--gradient-start), var(--gradient-end));
      opacity: 0.03;
      z-index: -1;
    }
    
    header {
      background: var(--surface);
      padding: 15px 30px;
      border-bottom: 1px solid var(--border);
      box-shadow: 0 2px 20px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .logo-section {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .logo {
      height: 40px;
      width: auto;
    }
    
    .logo-text {
      font-size: 1.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--brand), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    nav a {
      text-decoration: none;
      color: var(--text);
      font-weight: 600;
      margin-left: 30px;
      padding: 8px 16px;
      border-radius: 25px;
      transition: all 0.3s ease;
    }
    
    nav a:hover {
      color: var(--brand);
      background: var(--brand-light);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 30px;
    }
    
    .page-title {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 10px;
      background: linear-gradient(135deg, var(--brand), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .page-subtitle {
      text-align: center;
      color: var(--muted);
      margin-bottom: 40px;
      font-size: 1.1rem;
    }
    
    .filters {
      background: var(--surface);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      margin-bottom: 30px;
      border: 1px solid var(--border);
    }
    
    .filter-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      align-items: end;
    }
    
    .form-group {
      display: flex;
      flex-direction: column;
    }
    
    label {
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text);
    }
    
    select {
      padding: 12px;
      border: 2px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: var(--surface);
      color: var(--text);
    }
    
    select:focus {
      outline: none;
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(5,150,105,0.1);
    }
    
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--brand), var(--brand-600));
      color: white;
      box-shadow: 0 4px 15px rgba(5,150,105,0.3);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(5,150,105,0.4);
    }
    
    .route-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .route-tab {
      padding: 12px 20px;
      border: 2px solid var(--border);
      border-radius: 25px;
      background: var(--surface);
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
    }
    
    .route-tab.active {
      background: var(--brand);
      color: white;
      border-color: var(--brand);
    }
    
    .route-tab:hover {
      border-color: var(--brand);
      background: var(--brand-light);
    }
    
    .route-tab.active:hover {
      background: var(--brand-600);
    }
    
    .schedule-grid {
      display: grid;
      gap: 20px;
    }
    
    .schedule-card {
      background: var(--surface);
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      border: 1px solid var(--border);
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .schedule-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }
    
    .schedule-header {
      background: linear-gradient(135deg, var(--brand-light), var(--surface));
      padding: 20px;
      border-bottom: 1px solid var(--border);
    }
    
    .route-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .route-name {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--brand);
    }
    
    .route-distance {
      color: var(--muted);
      font-size: 0.9rem;
    }
    
    .route-path {
      color: var(--muted);
      font-size: 0.9rem;
    }
    
    .schedule-body {
      padding: 20px;
    }
    
    .time-slots {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
    }
    
    .time-slot {
      text-align: center;
      padding: 15px 10px;
      background: var(--bg);
      border-radius: 10px;
      border: 1px solid var(--border);
      transition: all 0.3s ease;
    }
    
    .live-updates {
      background: var(--surface);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      border: 1px solid var(--border);
      margin-bottom: 30px;
    }
    
    .updates-title {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--brand);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .update-item {
      padding: 10px 0;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .update-item:last-child {
      border-bottom: none;
    }
    
    .update-time {
      font-size: 0.8rem;
      color: var(--muted);
      min-width: 60px;
    }
    
    .update-message {
      flex: 1;
    }
    
    .legend {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
      color: var(--muted);
    }
    
    @media (max-width: 768px) {
      .filter-row {
        grid-template-columns: 1fr;
      }
      
      .route-tabs {
        justify-content: flex-start;
        overflow-x: auto;
        padding-bottom: 10px;
      }
      
      .route-tab {
        white-space: nowrap;
        flex-shrink: 0;
      }
      
      .time-slots {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      }
      
      .legend {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo-section">
        <!-- Added metro rail logo image -->
        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-RCmcphX4mo26kjSE8kGXPrxOFmO8sM.png" alt="Metro Rail Logo" class="logo">
        <div class="logo-text">üöä MetroRail</div>
      </div>
      <nav>
        <a href="index.html">üè† Home</a>
        <a href="book-tickets.html">üé´ Book</a>
        <a href="ticket-history.html">üìä History</a>
        <a href="fare-calculator.html">üí∞ Fare</a>
      </nav>
    </div>
  </header>

  <div class="container">
    <h1 class="page-title">üìÖ Train Schedules</h1>
    <p class="page-subtitle">View daily train timings, routes, and platform information</p>

    <div class="live-updates">
      <h3 class="updates-title">üî¥ Live Updates</h3>
      <div id="liveUpdates">
        <div class="update-item">
          <span class="status-indicator status-delayed"></span>
          <span class="update-time">10:30</span>
          <span class="update-message">Farmgate-Mirpur service delayed by 5 minutes due to technical check</span>
        </div>
        <div class="update-item">
          <span class="status-indicator status-on-time"></span>
          <span class="update-time">10:25</span>
          <span class="update-message">Uttara-Motijheel express service running on schedule</span>
        </div>
        <div class="update-item">
          <span class="status-indicator status-cancelled"></span>
          <span class="update-time">10:20</span>
          <span class="update-message">Motijheel-Uttara 08:55 service cancelled due to maintenance</span>
        </div>
      </div>
    </div>

    <div class="filters">
      <div class="filter-row">
        <div class="form-group">
          <label for="routeFilter">Filter by Route</label>
          <select id="routeFilter" onchange="filterSchedules()">
            <option value="">All Routes</option>
            <option value="uttara-motijheel">Uttara ‚Üí Motijheel</option>
            <option value="motijheel-uttara">Motijheel ‚Üí Uttara</option>
            <option value="farmgate-mirpur">Farmgate ‚Üî Mirpur</option>
            <option value="shahbagh-uttara">Shahbagh ‚Üî Uttara</option>
          </select>
        </div>
        <div class="form-group">
          <label for="timeFilter">Time Period</label>
          <select id="timeFilter" onchange="filterSchedules()">
            <option value="">All Day</option>
            <option value="morning">Morning (6AM - 12PM)</option>
            <option value="afternoon">Afternoon (12PM - 6PM)</option>
            <option value="evening">Evening (6PM - 12AM)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="statusFilter">Service Status</label>
          <select id="statusFilter" onchange="filterSchedules()">
            <option value="">All Services</option>
            <option value="on-time">On Time</option>
            <option value="delayed">Delayed</option>
            <option value="cancelled">Cancelled</option>
          </select>
        </div>
        <button class="btn btn-primary" onclick="refreshSchedules()">üîÑ Refresh</button>
      </div>
    </div>

    <div class="route-tabs">
      <div class="route-tab active" onclick="showRoute('all')">All Routes</div>
      <div class="route-tab" onclick="showRoute('uttara-motijheel')">Uttara ‚Üí Motijheel</div>
      <div class="route-tab" onclick="showRoute('motijheel-uttara')">Motijheel ‚Üí Uttara</div>
      <div class="route-tab" onclick="showRoute('farmgate-mirpur')">Farmgate ‚Üî Mirpur</div>
      <div class="route-tab" onclick="showRoute('shahbagh-uttara')">Shahbagh ‚Üî Uttara</div>
    </div>

    <div class="schedule-grid" id="scheduleGrid">
      <!-- Schedules will be populated by JavaScript -->
    </div>

    <div class="legend">
      <div class="legend-item">
        <span class="status-indicator status-on-time"></span>
        <span>On Time</span>
      </div>
      <div class="legend-item">
        <span class="status-indicator status-delayed"></span>
        <span>Delayed</span>
      </div>
      <div class="legend-item">
        <span class="status-indicator status-cancelled"></span>
        <span>Cancelled</span>
      </div>
    </div>
  </div>

  <script>
    const scheduleData = [
      {
        route: 'uttara-motijheel',
        name: 'MRT Line 6 - Uttara to Motijheel',
        distance: '20 km',
        path: 'Uttara North ‚Üí Uttara Center ‚Üí Uttara South ‚Üí Pallabi ‚Üí Mirpur 11 ‚Üí Mirpur 10 ‚Üí Kazipara ‚Üí Shewrapara ‚Üí Agargaon ‚Üí Bijoy Sarani ‚Üí Farmgate ‚Üí Karwan Bazar ‚Üí Shahbagh ‚Üí Dhaka University ‚Üí Bangladesh Secretariat ‚Üí Motijheel',
        times: [
          { time: '06:00', platform: 'Platform 1', status: 'on-time' },
          { time: '06:15', platform: 'Platform 1', status: 'on-time' },
          { time: '06:30', platform: 'Platform 1', status: 'on-time' },
          { time: '06:45', platform: 'Platform 1', status: 'on-time' },
          { time: '07:00', platform: 'Platform 1', status: 'delayed' },
          { time: '07:15', platform: 'Platform 1', status: 'on-time' },
          { time: '07:30', platform: 'Platform 1', status: 'on-time' },
          { time: '07:45', platform: 'Platform 1', status: 'on-time' },
          { time: '08:00', platform: 'Platform 1', status: 'on-time' },
          { time: '08:15', platform: 'Platform 1', status: 'on-time' },
          { time: '08:30', platform: 'Platform 1', status: 'on-time' },
          { time: '08:45', platform: 'Platform 1', status: 'on-time' }
        ]
      },
      {
        route: 'motijheel-uttara',
        name: 'MRT Line 6 - Motijheel to Uttara',
        distance: '20 km',
        path: 'Motijheel ‚Üí Bangladesh Secretariat ‚Üí Dhaka University ‚Üí Shahbagh ‚Üí Karwan Bazar ‚Üí Farmgate ‚Üí Bijoy Sarani ‚Üí Agargaon ‚Üí Shewrapara ‚Üí Kazipara ‚Üí Mirpur 10 ‚Üí Mirpur 11 ‚Üí Pallabi ‚Üí Uttara South ‚Üí Uttara Center ‚Üí Uttara North',
        times: [
          { time: '06:10', platform: 'Platform 2', status: 'on-time' },
          { time: '06:25', platform: 'Platform 2', status: 'on-time' },
          { time: '06:40', platform: 'Platform 2', status: 'on-time' },
          { time: '06:55', platform: 'Platform 2', status: 'on-time' },
          { time: '07:10', platform: 'Platform 2', status: 'on-time' },
          { time: '07:25', platform: 'Platform 2', status: 'delayed' },
          { time: '07:40', platform: 'Platform 2', status: 'on-time' },
          { time: '07:55', platform: 'Platform 2', status: 'on-time' },
          { time: '08:10', platform: 'Platform 2', status: 'on-time' },
          { time: '08:25', platform: 'Platform 2', status: 'on-time' },
          { time: '08:40', platform: 'Platform 2', status: 'on-time' },
          { time: '08:55', platform: 'Platform 2', status: 'cancelled' }
        ]
      },
      {
        route: 'farmgate-mirpur',
        name: 'Farmgate ‚Üî Mirpur 10 Express',
        distance: '8 km',
        path: 'Farmgate ‚Üí Bijoy Sarani ‚Üí Agargaon ‚Üí Shewrapara ‚Üí Kazipara ‚Üí Mirpur 10',
        times: [
          { time: '06:05', platform: 'Platform 3', status: 'on-time' },
          { time: '06:20', platform: 'Platform 3', status: 'on-time' },
          { time: '06:35', platform: 'Platform 3', status: 'on-time' },
          { time: '06:50', platform: 'Platform 3', status: 'on-time' },
          { time: '07:05', platform: 'Platform 3', status: 'on-time' },
          { time: '07:20', platform: 'Platform 3', status: 'on-time' },
          { time: '07:35', platform: 'Platform 3', status: 'delayed' },
          { time: '07:50', platform: 'Platform 3', status: 'on-time' },
          { time: '08:05', platform: 'Platform 3', status: 'on-time' },
          { time: '08:20', platform: 'Platform 3', status: 'on-time' }
        ]
      },
      {
        route: 'shahbagh-uttara',
        name: 'Shahbagh ‚Üî Uttara Center',
        distance: '15 km',
        path: 'Shahbagh ‚Üí Karwan Bazar ‚Üí Farmgate ‚Üí Bijoy Sarani ‚Üí Agargaon ‚Üí Shewrapara ‚Üí Kazipara ‚Üí Mirpur 10 ‚Üí Mirpur 11 ‚Üí Pallabi ‚Üí Uttara South ‚Üí Uttara Center',
        times: [
          { time: '06:00', platform: 'Platform 4', status: 'on-time' },
          { time: '06:30', platform: 'Platform 4', status: 'on-time' },
          { time: '07:00', platform: 'Platform 4', status: 'on-time' },
          { time: '07:30', platform: 'Platform 4', status: 'delayed' },
          { time: '08:00', platform: 'Platform 4', status: 'on-time' },
          { time: '08:30', platform: 'Platform 4', status: 'on-time' },
          { time: '09:00', platform: 'Platform 4', status: 'on-time' },
          { time: '09:30', platform: 'Platform 4', status: 'on-time' }
        ]
      }
    ];

    let currentRoute = 'all';

    function renderSchedules(data) {
      const grid = document.getElementById('scheduleGrid');
      
      grid.innerHTML = data.map(route => `
        <div class="schedule-card">
          <div class="schedule-header">
            <div class="route-info">
              <div class="route-name">${route.name}</div>
              <div class="route-distance">${route.distance}</div>
            </div>
            <div class="route-path">${route.path}</div>
          </div>
          <div class="schedule-body">
            <div class="time-slots">
              ${route.times.map(slot => `
                <div class="time-slot">
                  <div class="departure-time">
                    <span class="status-indicator status-${slot.status}"></span>
                    ${slot.time}
                  </div>
                  <div class="platform-info">${slot.platform}</div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `).join('');
    }

    function showRoute(route) {
      currentRoute = route;
      
      // Update active tab
      document.querySelectorAll('.route-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      event.target.classList.add('active');
      
      // Filter and display schedules
      let filteredData = scheduleData;
      if (route !== 'all') {
        filteredData = scheduleData.filter(r => r.route === route);
      }
      
      renderSchedules(filteredData);
    }

    function filterSchedules() {
      const routeFilter = document.getElementById('routeFilter').value;
      const timeFilter = document.getElementById('timeFilter').value;
      const statusFilter = document.getElementById('statusFilter').value;
      
      let filteredData = scheduleData;
      
      // Filter by route
      if (routeFilter) {
        filteredData = filteredData.filter(r => r.route === routeFilter);
      }
      
      // Filter by time and status
      filteredData = filteredData.map(route => {
        let filteredTimes = route.times;
        
        if (timeFilter) {
          filteredTimes = filteredTimes.filter(time => {
            const hour = parseInt(time.time.split(':')[0]);
            switch (timeFilter) {
              case 'morning': return hour >= 6 && hour < 12;
              case 'afternoon': return hour >= 12 && hour < 18;
              case 'evening': return hour >= 18 || hour < 6;
              default: return true;
            }
          });
        }
        
        if (statusFilter) {
          filteredTimes = filteredTimes.filter(time => time.status === statusFilter);
        }
        
        return { ...route, times: filteredTimes };
      }).filter(route => route.times.length > 0);
      
      renderSchedules(filteredData);
    }

    function refreshSchedules() {
      // Simulate refresh with loading
      const grid = document.getElementById('scheduleGrid');
      grid.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--muted);">üîÑ Refreshing schedules...</div>';
      
      setTimeout(() => {
        renderSchedules(scheduleData);
        
        // Update live updates
        const updates = document.getElementById('liveUpdates');
        const currentTime = new Date().toLocaleTimeString('en-US', { 
          hour12: false, 
          hour: '2-digit', 
          minute: '2-digit' 
        });
        
        updates.innerHTML = `
          <div class="update-item">
            <span class="status-indicator status-on-time"></span>
            <span class="update-time">${currentTime}</span>
            <span class="update-message">All schedules updated - Services running normally</span>
          </div>
        ` + updates.innerHTML;
      }, 1000);
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      renderSchedules(scheduleData);
      
      // Auto-refresh every 30 seconds
      setInterval(() => {
        if (Math.random() > 0.7) { // 30% chance of update
          refreshSchedules();
        }
      }, 30000);
    });
  </script>
</body>
</html>
